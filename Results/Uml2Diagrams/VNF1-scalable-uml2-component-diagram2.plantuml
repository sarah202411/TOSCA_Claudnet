@startuml
skinparam componentStyle uml2
skinparam component {
  backgroundColor<<relationship>> White
}

component ": tosca.nodes.nfv.Firewall_VNF" <<node>> as substitution_mappings {
component "extCp_mgmt: VnfExtCp" <<node>> as node_extCp_mgmt

component "intVL_mgmt: VnfVirtualLink" <<node>> as node_intVL_mgmt
interface "virtual_linkable" as node_intVL_mgmt_virtual_linkable
node_intVL_mgmt_virtual_linkable -- node_intVL_mgmt

component "intVL_data: VnfVirtualLink" <<node>> as node_intVL_data
interface "virtual_linkable" as node_intVL_data_virtual_linkable
node_intVL_data_virtual_linkable -- node_intVL_data

component "vdu_firewall_main: Compute" <<node>> as node_vdu_firewall_main
interface "virtual_binding" as node_vdu_firewall_main_virtual_binding
node_vdu_firewall_main_virtual_binding -- node_vdu_firewall_main
interface "virtual_compute" as node_vdu_firewall_main_virtual_compute
node_vdu_firewall_main_virtual_compute -- node_vdu_firewall_main

component "vdu_firewall_mgmt: Compute" <<node>> as node_vdu_firewall_mgmt
interface "virtual_binding" as node_vdu_firewall_mgmt_virtual_binding
node_vdu_firewall_mgmt_virtual_binding -- node_vdu_firewall_mgmt
interface "virtual_compute" as node_vdu_firewall_mgmt_virtual_compute
node_vdu_firewall_mgmt_virtual_compute -- node_vdu_firewall_mgmt

component "cp_firewall_main_mgmt: VduCp" <<node>> as node_cp_firewall_main_mgmt
component ": VirtualBindsTo" <<relationship>> as node_cp_firewall_main_mgmt_virtual_binding_relationship0
interface " " as node_cp_firewall_main_mgmt_virtual_binding_relationship0_source
node_cp_firewall_main_mgmt_virtual_binding_relationship0_source -- node_cp_firewall_main_mgmt_virtual_binding_relationship0
node_cp_firewall_main_mgmt --( node_cp_firewall_main_mgmt_virtual_binding_relationship0_source : virtual_binding
component ": VirtualLinksTo" <<relationship>> as node_cp_firewall_main_mgmt_virtual_link_relationship1
interface " " as node_cp_firewall_main_mgmt_virtual_link_relationship1_source
node_cp_firewall_main_mgmt_virtual_link_relationship1_source -- node_cp_firewall_main_mgmt_virtual_link_relationship1
node_cp_firewall_main_mgmt --( node_cp_firewall_main_mgmt_virtual_link_relationship1_source : virtual_link

component "cp_firewall_main_data: VduCp" <<node>> as node_cp_firewall_main_data
component ": VirtualBindsTo" <<relationship>> as node_cp_firewall_main_data_virtual_binding_relationship0
interface " " as node_cp_firewall_main_data_virtual_binding_relationship0_source
node_cp_firewall_main_data_virtual_binding_relationship0_source -- node_cp_firewall_main_data_virtual_binding_relationship0
node_cp_firewall_main_data --( node_cp_firewall_main_data_virtual_binding_relationship0_source : virtual_binding
component ": VirtualLinksTo" <<relationship>> as node_cp_firewall_main_data_virtual_link_relationship1
interface " " as node_cp_firewall_main_data_virtual_link_relationship1_source
node_cp_firewall_main_data_virtual_link_relationship1_source -- node_cp_firewall_main_data_virtual_link_relationship1
node_cp_firewall_main_data --( node_cp_firewall_main_data_virtual_link_relationship1_source : virtual_link

component "cp_firewall_mgmt_mgmt: VduCp" <<node>> as node_cp_firewall_mgmt_mgmt
component ": VirtualBindsTo" <<relationship>> as node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0
interface " " as node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0_source
node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0_source -- node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0
node_cp_firewall_mgmt_mgmt --( node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0_source : virtual_binding
component ": VirtualLinksTo" <<relationship>> as node_cp_firewall_mgmt_mgmt_virtual_link_relationship1
interface " " as node_cp_firewall_mgmt_mgmt_virtual_link_relationship1_source
node_cp_firewall_mgmt_mgmt_virtual_link_relationship1_source -- node_cp_firewall_mgmt_mgmt_virtual_link_relationship1
node_cp_firewall_mgmt_mgmt --( node_cp_firewall_mgmt_mgmt_virtual_link_relationship1_source : virtual_link

component "cp_firewall_mgmt_data: VduCp" <<node>> as node_cp_firewall_mgmt_data
component ": VirtualBindsTo" <<relationship>> as node_cp_firewall_mgmt_data_virtual_binding_relationship0
interface " " as node_cp_firewall_mgmt_data_virtual_binding_relationship0_source
node_cp_firewall_mgmt_data_virtual_binding_relationship0_source -- node_cp_firewall_mgmt_data_virtual_binding_relationship0
node_cp_firewall_mgmt_data --( node_cp_firewall_mgmt_data_virtual_binding_relationship0_source : virtual_binding
component ": VirtualLinksTo" <<relationship>> as node_cp_firewall_mgmt_data_virtual_link_relationship1
interface " " as node_cp_firewall_mgmt_data_virtual_link_relationship1_source
node_cp_firewall_mgmt_data_virtual_link_relationship1_source -- node_cp_firewall_mgmt_data_virtual_link_relationship1
node_cp_firewall_mgmt_data --( node_cp_firewall_mgmt_data_virtual_link_relationship1_source : virtual_link

node_cp_firewall_main_mgmt_virtual_binding_relationship0 --( node_vdu_firewall_main_virtual_binding
node_cp_firewall_main_mgmt_virtual_link_relationship1 --( node_intVL_mgmt_virtual_linkable
node_cp_firewall_main_data_virtual_binding_relationship0 --( node_vdu_firewall_main_virtual_binding
node_cp_firewall_main_data_virtual_link_relationship1 --( node_intVL_data_virtual_linkable
node_cp_firewall_mgmt_mgmt_virtual_binding_relationship0 --( node_vdu_firewall_mgmt_virtual_binding
node_cp_firewall_mgmt_mgmt_virtual_link_relationship1 --( node_intVL_mgmt_virtual_linkable
node_cp_firewall_mgmt_data_virtual_binding_relationship0 --( node_vdu_firewall_mgmt_virtual_binding
node_cp_firewall_mgmt_data_virtual_link_relationship1 --( node_intVL_data_virtual_linkable
agent policy_scaling_aspects <<policy>> #AliceBlue [
ScalingAspects
---
.. properties ..
aspects = {'firewall_main_scaling': {'name': 'fire[[{firewall_main_scaling: \n  name: 'firewall_main_scaling_aspect'\n  description: 'Scaling for main inspection engine'\n  max_scale_level: 3\n  step_deltas: \n    - 'delta_1'\nfirewall_mgmt_scaling: \n  name: 'firewall_mgmt_scaling_aspect'\n  description: 'Scaling for management unit'\n  max_scale_level: 2\n  step_deltas: \n    - 'delta_1'} ...]]
]
agent policy_vdu_firewall_main_initial_delta <<policy>> #AliceBlue [
VduInitialDelta
---
.. properties ..
initial_delta = {'number_of_instances': 2}
]
policy_vdu_firewall_main_initial_delta -up-> node_vdu_firewall_main
agent policy_vdu_firewall_main_scaling_delta <<policy>> #AliceBlue [
VduScalingAspectDeltas
---
.. properties ..
aspect = 'firewall_main_scaling'
deltas = {'delta_1': {'number_of_instances': 1}}
]
policy_vdu_firewall_main_scaling_delta -up-> node_vdu_firewall_main
agent policy_vdu_firewall_mgmt_initial_delta <<policy>> #AliceBlue [
VduInitialDelta
---
.. properties ..
initial_delta = {'number_of_instances': 2}
]
policy_vdu_firewall_mgmt_initial_delta -up-> node_vdu_firewall_mgmt
agent policy_vdu_firewall_mgmt_scaling_delta <<policy>> #AliceBlue [
VduScalingAspectDeltas
---
.. properties ..
aspect = 'firewall_mgmt_scaling'
deltas = {'delta_1': {'number_of_instances': 1}}
]
policy_vdu_firewall_mgmt_scaling_delta -up-> node_vdu_firewall_mgmt
agent policy_instantiation_levels <<policy>> #AliceBlue [
InstantiationLevels
---
.. properties ..
levels = {'default': {'description': 'Default ins[[{default: \n  description: 'Default instantiation level'\n  scale_info: \n    firewall_main_scaling: \n      scale_level: 0\n    firewall_mgmt_scaling: \n      scale_level: 0\nmedium: \n  description: 'Medium instantiation level'\n  scale_info: \n    firewall_main_scaling: \n      scale_level: 1\n    firewall_mgmt_scaling: \n      scale_level: 1\nlarge: \n  description: 'Large instantiation level'\n  scale_info: \n    firewall_main_scaling: \n      scale_level: 3\n    firewall_mgmt_scaling: \n      scale_level: 2} ...]]
default_level = 'default'
]
agent policy_vdu_firewall_main_instantiation_levels <<policy>> #AliceBlue [
VduInstantiationLevels
---
.. properties ..
levels = {'default': {'number_of_instances': 2}, [[{default: \n  number_of_instances: 2\nmedium: \n  number_of_instances: 3\nlarge: \n  number_of_instances: 5} ...]]
]
policy_vdu_firewall_main_instantiation_levels -up-> node_vdu_firewall_main
agent policy_vdu_firewall_mgmt_instantiation_levels <<policy>> #AliceBlue [
VduInstantiationLevels
---
.. properties ..
levels = {'default': {'number_of_instances': 2}, [[{default: \n  number_of_instances: 2\nmedium: \n  number_of_instances: 3\nlarge: \n  number_of_instances: 4} ...]]
]
policy_vdu_firewall_mgmt_instantiation_levels -up-> node_vdu_firewall_mgmt
}
label "virtual_link_external" as substitution_mappings_virtual_link_external
node_extCp_mgmt "internal_virtual_link" --( substitution_mappings_virtual_link_external
@enduml
